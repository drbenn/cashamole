<div class="w-full bg-green-200 flex flex-column flex-nowrap justify-content-start align-items-start">
    <div class="p-3">
        <span class="text-2xl">Balance Sheet</span><span class="text-sm">&nbsp;as of XX/XX/0000</span>
    </div>
    <main class="flex flex-row flex-nowrap justify-content-center align-items-start">
        <section class="border-noround border-right-2 border-pink-300 pr-3">
            <div class="bg-white p-3"
                [ngStyle]="{'font-size': '1.5rem', 'font-weight': '700', 'padding-left': '0.4rem'}"
            >
            Assets
            </div>
            <p-table [value]="assets" dataKey="record_id" editMode="row" [tableStyle]="{ 'width': 'fit-content' }" styleClass="p-datatable-sm">
                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="date" [ngStyle]="{'width': '10rem'}">Date</th>
                        <th pSortableColumn="description" [ngStyle]="{'width': '10rem'}">Description</th>
                        <th pSortableColumn="amount" [ngStyle]="{'width': '6rem'}">Amount</th>
                        <th [ngStyle]="{'width': '10rem'}">Edit</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-entry let-editing="editing" let-ri="rowIndex">
                    <tr [pEditableRow]="entry">
                        <td>
                            <p-cellEditor>
                                <ng-template pTemplate="input">
                                    <span class="p-float-label">
                                        <p-calendar
                                            id="date"
                                            [showIcon]="true"
                                            [(ngModel)]="entry.date"
                                            [ngStyle]="{'width':'10rem'}"
                                            appendTo="body"
                                            dateFormat="mm/dd/y"
                                        >
                                        </p-calendar>
                                        <label htmlFor="date">Date</label>
                                    </span>
                                </ng-template>
                                <ng-template pTemplate="output">
                                    {{ entry.date | date:'M/d/yy' }}
                                </ng-template>
                            </p-cellEditor>
                        </td>
                        <td>
                            <p-cellEditor>
                                <ng-template pTemplate="input">
                                    <!-- <input pInputText type="text" [(ngModel)]="entry.description"> -->
                                    <span class="p-float-label">
                                        <input 
                                            pInputText
                                            id="description"
                                            [(ngModel)]="entry.description"
                                            [ngStyle]="{'width':'10rem'}"
                                        />
                                    <label htmlFor="description">Description</label>
                                    </span>
                                </ng-template>
                                <ng-template pTemplate="output">
                                    {{ entry.description }}
                                </ng-template>
                            </p-cellEditor>
                        </td>
                        <td>
                            <p-cellEditor>
                                <ng-template pTemplate="input">
                                    <!-- <input pInputText type="text" [(ngModel)]="entry.amount"> -->
                                    <span class="p-float-label">
                                        <p-inputNumber 
                                            id="amount"
                                            [(ngModel)]="entry.amount"
                                            inputId="minmaxfraction"
                                            mode="decimal"
                                            [minFractionDigits]="2"
                                            [maxFractionDigits]="2"
                                            [ngStyle]="{'width':'6rem'}"
                                        > </p-inputNumber>
                                        <label htmlFor="amount">$ Amount</label>
                                    </span>
                                </ng-template>
                                <ng-template pTemplate="output">
                                    {{ entry.amount | currency }}
                                </ng-template>
                            </p-cellEditor>
                        </td>
                        <td>
                            <div class="flex flex-row flex-nowrap justify-content-end"
                            [ngStyle]="{'width':'15rem'}"
                            >
                                @if (!editing) {
                                    <div>
                                        <button 
                                            pButton
                                            pRipple
                                            type="button"
                                            pInitEditableRow
                                            icon="pi pi-pencil"
                                            (click)="onRowEditInit(entry)"
                                            class="p-button-rounded p-button-text"
                                        ></button>
                                    </div>
                                }
                                @if (editing) {
                                    <div>
                                        <button
                                            pButton
                                            pRipple
                                            type="button"
                                            pSaveEditableRow
                                            icon="pi pi-check"
                                            (click)="onRowEditSave(entry)"
                                            class="p-button-rounded p-button-text p-button-success mr-2"
                                        ></button>
                                    </div>
                                }
                                @if (editing) {
                                    <div>
                                        <button
                                            pButton
                                            pRipple
                                            type="button"
                                            pCancelEditableRow
                                            icon="pi pi-times"
                                            (click)="onRowEditCancel(entry, ri)"
                                            class="p-button-rounded p-button-text p-button-danger"
                                        ></button>
                                    </div>
                                }
                                @if (editing) {
                                    <div>
                                        <button
                                            pButton
                                            pRipple
                                            type="button"
                                            pCancelEditableRow
                                            icon="pi pi-trash"
                                            (click)="removeEntry(entry, ri)"
                                            class="p-button-rounded p-button-text p-button-danger"
                                        ></button>
                                    </div>
                                }


                            </div>
                        </td>
                        <!-- <td style="width:15%">{{ type.date | date:'M/d/yy' }}</td>
                        <td style="width:60%">{{ type.description }}</td>
                        <td style="width:20%">{{ type.amount | currency }}</td>
                        <td style="width:5%">
                            <div 
                                class="text-center flex flex-row justify-content-center align-items-center border-circle"
                                (click)="editBalanceRecord(type)"
                            >
                                <div>
                                    <i class="pi pi-file-edit icon-hover"></i>
                                </div>
                            </div>
                        </td> -->
                    </tr>
                </ng-template>


                <!-- <td>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="product.code">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{product.code}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="product.name" required>
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{product.name}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <p-dropdown [options]="statuses" appendTo="body" [(ngModel)]="product.inventoryStatus" [style]="{'width':'100%'}"></p-dropdown>
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{product.inventoryStatus}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="product.price">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{product.price | currency: 'USD'}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td>
                    <div class="flex align-items-center justify-content-center gap-2">
                        <button *ngIf="!editing" pButton pRipple type="button" pInitEditableRow icon="pi pi-pencil" (click)="onRowEditInit(product)" class="p-button-rounded p-button-text"></button>
                        <button *ngIf="editing" pButton pRipple type="button" pSaveEditableRow icon="pi pi-check" (click)="onRowEditSave(product)" class="p-button-rounded p-button-text p-button-success mr-2"></button>
                        <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow icon="pi pi-times" (click)="onRowEditCancel(product, ri)" class="p-button-rounded p-button-text p-button-danger"></button>
                    </div>
                </td> -->


            </p-table>
        </section>
        <section class="pl-3">
            <div class="bg-white p-3"
                [ngStyle]="{'font-size': '1.5rem', 'font-weight': '700', 'padding-left': '0.4rem'}"
            >
            Liabilities
            </div>
            <p-table [value]="liabilities" [tableStyle]="{ 'width': 'fit-content' }" styleClass="p-datatable-sm">
                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="date" style="width:15%">Date</th>
                        <th pSortableColumn="description" style="width:60%">Description</th>
                        <th pSortableColumn="amount" style="width:20%">Amount</th>
                        <th style="width:5%">Edit</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-type>
                    <tr>
                        <td style="width:15%">{{ type.date | date:'M/d/yy' }}</td>
                        <td style="width:60%">{{ type.description }}</td>
                        <td style="width:20%">{{ type.amount | currency }}</td>
                        <td style="width:5%">
                            <div 
                                class="text-center flex flex-row justify-content-center align-items-center border-circle"
                                (click)="editBalanceRecord(type)"
                            >
                                <div>
                                    <i class="pi pi-file-edit icon-hover"></i>
                                </div>
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </section>
    
    </main>
</div>


