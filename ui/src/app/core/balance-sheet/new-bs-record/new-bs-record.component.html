<main
class="w-full bg-white flex flex-column justify-content-center align-items-center"
[ngStyle]="{'min-height': '5rem'}"
>
    <form action="" [formGroup]="newRecordForm" (ngSubmit)="onSubmit()">

        <h2 class="m-4 text-gray-800 text-start">New Balance Sheet Record</h2>

        <div class="m-4 w-20rem">
            <p-selectButton
                [options]="bsTypes"
                formControlName="type"
                optionLabel="type"
                optionValue="type"
                #type
                (click)="handleBsSelectClick(type.value)"
            ></p-selectButton>
        </div>

        <!-- <div class="m-4">
            <p-dropdown
                formControlName="type"
                [(ngModel)]="selectedBsType"
                [options]="bsTypes"
                optionLabel="type"
                placeholder="Select Type"
                [style]="{'width':'20rem'}"
            >
            </p-dropdown>
        </div> -->

        <div class="m-4">
            <span class="p-float-label">
                <p-calendar
                    id="date"
                    [showIcon]="true"
                    formControlName="date"
                    [style]="{'width':'20rem'}"
                >
                </p-calendar>
                <label htmlFor="date">Date</label>
            </span>
        </div>

        <div class="m-4 w-20rem">
            @if (assetLiabilityToggle === 'asset') {
                <app-chip-select [chips]="assetChipStrings" [chipObjects]="assetChips" kind="asset" (selectedChip)="handleChipSelect($event)"></app-chip-select>
            }
            @if (assetLiabilityToggle === 'liability') {
                <app-chip-select [chips]="liabilityChipStrings" [chipObjects]="liabilityChips" kind="liability" (selectedChip)="handleChipSelect($event)"></app-chip-select>
            }
        </div>

        <!-- @if (this.selectedBsType.type === 'asset') {
            <div class="m-4 w-20rem">
                <app-chip-select [chips]="assetChipStrings" [chipObjects]="assetChips" kind="asset" (selectedChip)="handleChipSelect($event)"></app-chip-select>
            </div>
        }

        @if (this.selectedBsType.type === 'liability') {
        <div class="m-4 w-20rem">
            <app-chip-select [chips]="liabilityChipStrings" [chipObjects]="liabilityChips" kind="liability" (selectedChip)="handleChipSelect($event)"></app-chip-select>
        </div>
        } -->
        
        <div class="m-4">
            <span class="p-float-label">
                <input 
                    pInputText
                    id="description"
                    formControlName="description"
                    [style]="{'width':'20rem'}"
                />
            <label htmlFor="description">Description</label>
            </span>
        </div>

        <div class="m-4">
            <span class="p-float-label">
                <p-inputNumber 
                    id="amount"
                    formControlName="amount"
                    inputId="minmaxfraction"
                    mode="decimal"
                    [minFractionDigits]="2"
                    [maxFractionDigits]="2"
                    placeholder=0.00
                    [style]="{'width':'20rem'}"
                > </p-inputNumber>
                <label htmlFor="amount">$ Amount</label>
            </span>
        </div>

        <div class="mx-4 my-1 text-right">
            <button 
                pButton
                pRipple
                type="reset"
                (click)="clearForm()"
                class="px-4 mr-2"
            >Clear</button>
            <button 
                class="ml-4"
                pButton
                pRipple
                type="submit"
                [disabled]="!newRecordForm.valid"
                class="px-4"
            >Submit</button>
        </div>
    </form>

    <p>Form Status: {{ newRecordForm.status }}</p>
    <p>{{ newRecordForm.value | json }}</p>

</main>
